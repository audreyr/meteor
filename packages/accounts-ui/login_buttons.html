<template name="loginButtons">
  <div id="login-buttons">
    {{#if currentUser}}
      <div class="login-header">
        {{#if currentUser.loading}}
        <div class="loading"></div>
        {{else}}
        {{currentUser.name}}
        {{/if}}
      </div>
      <div class="login-button" id="login-buttons-logout">Logout</div>
    {{else}}
      {{#if services}}
        {{#if dropdown}}
          {{> loginButtonsServicesDropdown}}
        {{else}}
          {{> loginButtonsServicesRow}}
        {{/if}}
      {{else}}
        <div class="no-services">No login services configured.</div>
      {{/if}}
    {{/if}}
  </div>
</template>

<template name="loginButtonsServicesRow">
  {{#each services}}
    <div class="login-button" id="login-buttons-{{name}}">
      <div class="login-image" id="login-buttons-image-{{name}}"></div>
      Login with {{name}}
    </div>
  {{/each}}
</template>

<template name="loginButtonsServicesDropdown">
  <div class="login-link-and-dropdown-list">
    <a class="login-link-text">Login</a>
    {{#if dropdownVisible}}
    <div class="login-dropdown-list">
      <a class="login-close-text">Close</a>
      {{> loginButtonsServicesRow}}
    </div>
    {{/if}}
  </div>
</template>
